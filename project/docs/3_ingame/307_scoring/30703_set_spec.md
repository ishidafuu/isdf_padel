# Set Specification

## 概要

テニスのセットカウント（1セット先取でマッチ勝利）を管理する機能。

## Core Requirements (MVP v0.1)

### REQ-30703-001: セットカウント初期化
- WHEN マッチ開始時
- THE SYSTEM SHALL 両プレイヤーのセットカウントを 0 に初期化する
- **テスト**: TST-30707-001
- **データ**: `80703_set_config.md#initial_set_count`

### REQ-30703-002: セットカウント加算
- WHEN プレイヤーがセットに勝利する
- THE SYSTEM SHALL 該当プレイヤーのセットカウントを 1 増やす
- **テスト**: TST-30707-002

### REQ-30703-003: マッチ勝利判定（1セット制）
- WHEN プレイヤーのセットカウントが 1 に到達する
- THE SYSTEM SHALL 該当プレイヤーの勝利としてマッチを終了する
- **テスト**: TST-30707-003
- **データ**: `80703_set_config.md#sets_to_win_match`

### REQ-30703-004: セットカウント表示
- WHILE マッチが進行中である
- THE SYSTEM SHALL 両プレイヤーのセットカウントを表示する
- WITH 表示形式: "0", "1"
- **テスト**: TST-30707-004

---

## Extended Requirements (v0.2)

### REQ-30703-050: 複数セットマッチ対応
- WHEN マッチ設定で複数セット制が選択されている
- THE SYSTEM SHALL 3セットまたは5セットのマッチ形式に対応する
- WITH 3セット: 2セット先取で勝利
- WITH 5セット: 3セット先取で勝利
- **テスト**: TST-30707-050
- **データ**: `80703_set_config.md#match_format`

### REQ-30703-051: セットスコア履歴
- WHEN セットが終了する
- THE SYSTEM SHALL 終了したセットのゲームスコアを履歴として保持する
- WITH 形式: [(P1_games, P2_games), ...]
- **テスト**: TST-30707-051

### REQ-30703-052: マッチ終了判定拡張（3セット制）
- WHEN 3セットマッチ中にプレイヤーのセットカウントが 2 に到達する
- THE SYSTEM SHALL 該当プレイヤーの勝利としてマッチを終了する
- **テスト**: TST-30707-052

### REQ-30703-053: マッチ終了判定拡張（5セット制）
- WHEN 5セットマッチ中にプレイヤーのセットカウントが 3 に到達する
- THE SYSTEM SHALL 該当プレイヤーの勝利としてマッチを終了する
- **テスト**: TST-30707-053

### REQ-30703-054: セットスコア履歴表示
- WHILE マッチが進行中である
- THE SYSTEM SHALL 完了したセットのゲームスコアを表示する
- WITH 表示形式: "Set 1: 6-4, Set 2: 7-6(3)"
- **テスト**: TST-30707-054

---

## データ参照

- `80703_set_config.md`: セットカウント設定

## 依存関係

- `30702_game_spec.md`: ゲーム管理（セット終了時のゲームカウントリセット）
