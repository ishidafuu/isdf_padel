# Point Specification

## 概要

テニスのポイントシステム（0, 15, 30, 40, Game）を管理する機能。

## Core Requirements (MVP v0.1)

### REQ-30701-001: ポイント初期化
- WHEN ゲーム開始時
- THE SYSTEM SHALL 両プレイヤーのポイントを 0 に初期化する
- **テスト**: TST-30705-001
- **データ**: `80701_point_config.md#point_values`

### REQ-30701-002: ポイント加算
- WHEN プレイヤーがラリーに勝利する
- THE SYSTEM SHALL 該当プレイヤーのポイントを次の値に進める
- WITH 進行順序: 0 → 15 → 30 → 40 → Game
- **テスト**: TST-30705-002
- **データ**: `80701_point_config.md#point_progression`

### REQ-30701-003: ゲーム勝利判定
- WHEN プレイヤーのポイントが 40 の状態で次のポイントを獲得する
- AND 相手プレイヤーのポイントが 40 未満である
- THE SYSTEM SHALL 該当プレイヤーの勝利としてゲームを終了する
- **テスト**: TST-30705-003

### REQ-30701-004: ポイント表示
- WHILE ゲームが進行中である
- THE SYSTEM SHALL 両プレイヤーのポイントを表示する
- WITH 表示形式: "0", "15", "30", "40", "Game"
- **テスト**: TST-30705-004

### REQ-30701-005: ポイントリセット
- WHEN ゲームが終了する
- THE SYSTEM SHALL 両プレイヤーのポイントを 0 にリセットする
- **テスト**: TST-30705-005

---

## Extended Requirements (v0.2)

### REQ-30701-050: デュース判定
- WHEN 両プレイヤーのポイントが 40 である
- THE SYSTEM SHALL デュース状態に遷移する
- **テスト**: TST-30705-050
- **データ**: `80701_point_config.md#deuce_config`

### REQ-30701-051: アドバンテージ処理
- WHEN デュース状態でプレイヤーがポイントを獲得する
- THE SYSTEM SHALL 該当プレイヤーをアドバンテージ状態にする
- **テスト**: TST-30705-051

### REQ-30701-052: アドバンテージからのゲーム勝利
- WHEN プレイヤーがアドバンテージ状態で次のポイントを獲得する
- THE SYSTEM SHALL 該当プレイヤーの勝利としてゲームを終了する
- **テスト**: TST-30705-052

### REQ-30701-053: アドバンテージからデュースへの復帰
- WHEN プレイヤーがアドバンテージ状態で相手がポイントを獲得する
- THE SYSTEM SHALL デュース状態に復帰する
- **テスト**: TST-30705-053

### REQ-30701-054: 表示形式拡張
- WHILE ゲームが進行中である
- AND デュースまたはアドバンテージ状態である
- THE SYSTEM SHALL 以下の形式で表示する
- WITH 表示形式: "Deuce", "Adv P1", "Adv P2"
- **テスト**: TST-30705-054

---

## データ参照

- `80701_point_config.md`: ポイント進行設定

## 依存関係

- `30702_game_spec.md`: ゲーム管理（ポイント終了時のゲームカウント更新）
- `30601_shot_spec.md`: ショット入力（ラリー勝敗判定）
