# Game Specification

## 概要

テニスのゲームカウント（6ゲーム先取で1セット獲得）を管理する機能。

## Core Requirements (MVP v0.1)

### REQ-30702-001: ゲームカウント初期化
- WHEN セット開始時
- THE SYSTEM SHALL 両プレイヤーのゲームカウントを 0 に初期化する
- **テスト**: TST-30706-001
- **データ**: `80702_game_config.md#initial_game_count`

### REQ-30702-002: ゲームカウント加算
- WHEN プレイヤーがゲームに勝利する
- THE SYSTEM SHALL 該当プレイヤーのゲームカウントを 1 増やす
- **テスト**: TST-30706-002

### REQ-30702-003: セット勝利判定（6ゲーム先取）
- WHEN プレイヤーのゲームカウントが 6 に到達する
- AND 相手プレイヤーのゲームカウントが 4 以下である
- THE SYSTEM SHALL 該当プレイヤーの勝利としてセットを終了する
- **テスト**: TST-30706-003
- **データ**: `80702_game_config.md#games_to_win_set`

### REQ-30702-004: セット勝利判定（7ゲーム先取）
- WHEN プレイヤーのゲームカウントが 7 に到達する
- AND 相手プレイヤーのゲームカウントが 5 または 6 である
- THE SYSTEM SHALL 該当プレイヤーの勝利としてセットを終了する
- **テスト**: TST-30706-004
- **データ**: `80702_game_config.md#deuce_rule`

### REQ-30702-005: ゲームカウント表示
- WHILE セットが進行中である
- THE SYSTEM SHALL 両プレイヤーのゲームカウントを表示する
- WITH 表示形式: "0", "1", "2", "3", "4", "5", "6", "7"
- **テスト**: TST-30706-005

---

## Extended Requirements (v0.2)

### REQ-30702-050: タイブレーク判定
- WHEN 両プレイヤーのゲームカウントが 6 である
- THE SYSTEM SHALL タイブレークモードに遷移する
- **テスト**: TST-30706-050
- **データ**: `80702_game_config.md#tiebreak_config`

### REQ-30702-051: タイブレークポイント進行
- WHILE タイブレークモード中である
- THE SYSTEM SHALL ポイントを 0, 1, 2, 3... の形式で進行させる
- **テスト**: TST-30706-051
- **データ**: `80702_game_config.md#tiebreak_point_progression`

### REQ-30702-052: タイブレークサーブ交代
- WHILE タイブレークモード中である
- THE SYSTEM SHALL 2ポイントごとにサーブ権を交代させる
- WITH 初回サーブは直前のゲームの次の順番
- **テスト**: TST-30706-052

### REQ-30702-053: タイブレーク勝利判定（7ポイント先取）
- WHEN タイブレークモード中にプレイヤーのポイントが 7 に到達する
- AND 相手プレイヤーのポイントが 5 以下である
- THE SYSTEM SHALL 該当プレイヤーの勝利としてセットを終了する
- **テスト**: TST-30706-053

### REQ-30702-054: タイブレーク勝利判定（2点差）
- WHEN タイブレークモード中に両プレイヤーのポイントが 6 以上である
- AND プレイヤー間のポイント差が 2 以上である
- THE SYSTEM SHALL ポイント数の多いプレイヤーの勝利としてセットを終了する
- **テスト**: TST-30706-054

---

## データ参照

- `80702_game_config.md`: ゲームカウント設定

## 依存関係

- `30701_point_spec.md`: ポイント管理（ゲーム終了時のポイントリセット）
- `30703_set_spec.md`: セット管理（セット終了時のゲームカウントリセット）
