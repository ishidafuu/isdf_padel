# P003-004: スコアリングシステムECS化

## 概要

MatchScore リソース内の `player1_score/player2_score` 固定識別子を CourtSide ベースに変更し、ECS設計原則に準拠させる。

## 背景

P003（プレイヤー入力システムリファクタリング）で入力系は修正完了。
しかしスコアリング系に固定識別子が残存しており、CLAUDE.md ルール4「ECS設計原則」に違反。

## 現状の問題

```rust
// resource/scoring.rs - ECS原則違反
pub struct MatchScore {
    pub player1_point: PlayerPoint,      // ❌ 固定識別子
    pub player2_point: PlayerPoint,      // ❌ 固定識別子
    pub player1_score: PlayerGameScore,  // ❌ 固定識別子
    pub player2_score: PlayerGameScore,  // ❌ 固定識別子
}
```

## 対応方針

### Option A: 配列ベース（推奨）

```rust
pub struct MatchScore {
    pub points: [PlayerPoint; 2],        // [0] = Player1側, [1] = Player2側
    pub scores: [PlayerGameScore; 2],
    pub server: CourtSide,
    // ...
}

impl MatchScore {
    pub fn get_point(&self, side: CourtSide) -> &PlayerPoint {
        &self.points[side as usize]
    }
    pub fn get_score(&self, side: CourtSide) -> &PlayerGameScore {
        &self.scores[side as usize]
    }
}
```

### Option B: HashMap ベース

```rust
pub scores: HashMap<CourtSide, PlayerGameScore>,
```

## 影響範囲

- `project/src/resource/scoring.rs` - MatchScore 構造体
- `project/src/systems/scoring.rs` - スコア更新システム
- `project/src/presentation/debug_ui.rs` - スコア表示

## 完了条件

- [ ] MatchScore から `player1_*`, `player2_*` フィールド削除
- [ ] CourtSide ベースのアクセサメソッド実装
- [ ] 全参照箇所の更新
- [ ] テスト通過

## メタデータ

- **優先度**: 高
- **種別**: リファクタリング
- **依存**: なし
- **並列実行**: 可（P003-001〜003と並列可能）
