---
id: "30038"
title: "コートサイズ調整"
type: "game-dev"
status: "done"
priority: "high"
related_task: null
spec_ids: ["30501", "80101"]
blocked_by: ["30037"]
blocks: ["30039"]
branch_name: null
worktree_path: null
plan_file: "~/.claude/plans/structured-purring-narwhal.md"
tags: ["tennis", "court", "parameters"]
parent_task_id: null
created_at: "2026-01-08T16:00:00"
updated_at: "2026-01-08T16:00:00"
completed_at: "2026-01-08T17:00:00"
---

# Task 30038: コートサイズ調整

## Summary

テニスコートの比率を維持しつつ、ゲームプレイに適したサイズに調整。
関連パラメータ（プレイヤー移動範囲、AI位置など）も併せて調整。

## Related Specifications

- `project/docs/3_ingame/305_court/30501_court_spec.md` - コート仕様
- `project/docs/8_data/80101_game_constants.md` - データ定義

## Progress

### Completed

- [x] `game_config.ron` のコートパラメータ更新（width: 12.0, depth: 16.0, ceiling_height: 100.0）
- [x] `game_config.ron` のプレイヤーパラメータ更新（z_min: -8.0, z_max: 8.0, move_speed: 3.0, move_speed_z: 4.0）
- [x] `game_config.ron` のAIパラメータ更新（home_position_z: 7.0, move_speed: 4.5）
- [x] 仕様書（80101_game_constants.md）更新（v3.1.0）
- [x] ビルド成功
- [x] テスト全PASS（135件）

## Next Actions

1. `CourtConfig` パラメータ値の決定
2. `game_config.ron` 更新
3. `CourtBounds` から天井関連を削除（オプション）
4. プレイヤー移動範囲（z_min, z_max）調整
5. AI基本位置（home_position_z）調整
6. ボール速度パラメータの調整（必要に応じて）

## Dependencies

- **Blocked By:** 30037（アウト判定追加が先）
- **Blocks:** 30039（統合テスト）

## Detailed Implementation Plan

### コートサイズ案

```
現在（パデル）:
  width: 6.0m
  depth: 12.0m（各コート側 6.0m）
  ceiling_height: 5.0m

変更後（テニス、ゲーム用調整）:
  width: 12.0m
  depth: 16.0m（各コート側 8.0m）
  ceiling_height: 削除または大きな値（100.0m）

テニスコート実寸との比較:
  実寸: 23.77m x 10.97m（シングルス: 8.23m幅）
  ゲーム用: 約1/2スケール
```

### 修正対象ファイル

| ファイル | 変更内容 |
|---------|---------|
| `project/assets/config/game_config.ron` | court, player, ai パラメータ |
| `project/src/resource/config.rs` | CourtConfig 構造体（天井関連削除検討） |
| `project/src/core/court.rs` | CourtBounds 計算（天井関連削除検討） |
| `project/docs/8_data/80101_game_constants.md` | データ定義更新 |

### パラメータ変更一覧

| パラメータ | 現在値 | 変更後 |
|-----------|-------|-------|
| court.width | 6.0 | 12.0 |
| court.depth | 12.0 | 16.0 |
| court.ceiling_height | 5.0 | 100.0（または削除） |
| player.z_min | -6.0 | -8.0 |
| player.z_max | 6.0 | 8.0 |
| ai.home_position_z | 5.0 | 7.0 |
| player.move_speed | 2.0 | 3.0（調整） |
| player.move_speed_z | 2.5 | 4.0（調整） |

### 注意点

- 全パラメータは `game_config.ron` に外部化（ハードコーディング禁止）
- コートサイズ変更後、ゲームプレイで違和感がないか確認
- 移動速度はコートサイズに合わせて調整

## 完了チェックリスト

> このタスクは in-review 経由必須

- [x] ビルド成功（`cargo build`）
- [x] テスト全PASS（`cargo test`）- 135件
- [x] in-review に移動済み
- [x] レビュー完了

## メモ

- テニスコートの正確な比率より、ゲームの楽しさを優先
- パラメータは後から微調整可能（RONファイルで外部化済み）
- 天井は削除するか、非常に高い値（事実上無効）に設定
