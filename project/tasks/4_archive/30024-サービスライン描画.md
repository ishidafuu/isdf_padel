---
id: "30024"
title: "サービスライン描画"
type: "game-dev"
status: "done"
priority: "medium"
related_task: null
spec_ids: ["30501"]
blocked_by: []
blocks: []
branch_name: null
worktree_path: null
plan_file: "~/.claude/plans/floating-tinkering-cerf.md"
tags: ["court", "rendering"]
parent_task_id: null
created_at: "2026-01-07T12:00:00"
updated_at: "2026-01-07T12:00:00"
completed_at: "2026-01-07"
---

# Task 30024: サービスライン描画

## Summary

コートにサービスライン（サービスボックスの境界線）を描画する。
現在はフォールト判定でサービスボックスが使用されているが、視覚的な表示がない。

## Related Specifications

- [30501_court_spec.md](../../docs/3_ingame/305_court/30501_court_spec.md) - REQ-30501-008

## Progress

### Completed

- [x] 仕様書にREQ-30501-008追加
- [x] spawn_court関数にサービスライン描画を実装
- [x] ビルド成功

## Next Actions

1. レビュー完了待ち

## Dependencies

- **Blocked By:** なし
- **Blocks:** なし

## Detailed Implementation Plan

**ファイル**: `project/src/main.rs`

`spawn_court`関数に追加:
1. 1P側サービスライン（縦線）: X = -service_box_depth * WORLD_SCALE
2. 2P側サービスライン（縦線）: X = +service_box_depth * WORLD_SCALE
3. 1P側センターライン（横線）: ネット〜サービスライン
4. 2P側センターライン（横線）: ネット〜サービスライン

## 完了チェックリスト

> このタスクは in-review 経由必須

- [x] ビルド成功（`cargo build`）
- [ ] テスト全PASS（`cargo test`）※既存のshadowフィールド欠落問題あり
- [x] in-review に移動済み
- [ ] レビュー完了

## メモ

- service_box_depth: 1.5m（Config定義済み）
- 座標変換: 論理Z → 画面X（WORLD_SCALE適用）
