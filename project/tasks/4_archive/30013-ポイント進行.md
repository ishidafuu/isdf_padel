---
id: "30013"
title: "ポイント進行"
type: "game-dev"
status: "done"
priority: "medium"
spec_ids: ["30701"]
blocked_by: ["30009"]
blocks: ["30014", "30016", "30018", "30021"]
branch_name: "auto-30013-point-progression"
worktree_path: null
plan_file: null
tags: ["scoring", "mvp", "phase3"]
created_at: "2026-01-06T20:00:00+09:00"
updated_at: "2026-01-07T00:00:00+09:00"
completed_at: "2026-01-07T00:00:00+09:00"
---

# Task 30013: ポイント進行

## Summary

ポイント進行（0→15→30→40→Game）を実装する。

## Related Specifications

- [30701_point_spec.md](../../docs/3_ingame/307_scoring/30701_point_spec.md)

## 実装内容

- [x] REQ-30701-001: ポイント値定義（0, 15, 30, 40）
- [x] REQ-30701-002: ポイント加算
- [x] REQ-30701-003: ゲーム獲得判定（40から得点時）
- [x] REQ-30701-004: PointScoredEvent 発行
- [x] REQ-30701-005: スコア表示更新

## Dependencies

- **Blocked By:** 30009（当たり判定）
- **Blocks:** 30014, 30016, 30018, 30021

## メモ

- MVP v0.1ではデュースなし（40から得点で即ゲーム獲得）

## 実装詳細

### 作成ファイル
- `project/docs/8_data/80701_point_config.md` - ポイント設定データ仕様
- `project/src/resource/scoring.rs` - スコアリングリソース（MatchScore, PlayerPoint等）
- `project/src/systems/scoring.rs` - スコアリングシステム（ScoringPlugin）

### 変更ファイル
- `project/src/resource/config.rs` - ScoringConfig拡張（point_values追加）
- `project/src/resource/mod.rs` - scoringモジュール追加
- `project/src/core/events.rs` - ポイントイベント追加（RallyEndEvent, PointScoredEvent等）
- `project/src/core/court.rs` - CourtSide::opponent()メソッド追加
- `project/src/systems/mod.rs` - scoringモジュール追加
- `project/src/main.rs` - ScoringPlugin追加
- `project/assets/config/game_config.ron` - ScoringConfig更新

### テスト結果
- 5個のユニットテスト追加（TST-30705-001〜005）
- 全68テストPASS
