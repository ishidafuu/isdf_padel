---
id: "F022"
title: "ガイドライン形式への統一"
type: "framework"
status: "done"
priority: "high"
spec_ids: []
blocked_by: ["F019"]
blocks: []
branch_name: null
worktree_path: null
plan_file: "/Users/s13219/.claude/plans/sharded-stargazing-zephyr.md"
tags: ["agents", "format", "consistency"]
created_at: "2026-01-04T16:00:00+09:00"
updated_at: "2026-01-04T16:00:00+09:00"
completed_at: "2026-01-04T12:15:00+09:00"
---

# Task F022: ガイドライン形式への統一

## 説明

CLAUDE.md の「エージェント定義 = 処理ガイドライン」方針に合わせて、全エージェントファイルの形式を統一する。

## 背景

### 現状

- CLAUDE.md で「エージェント定義 = 処理ガイドライン」と明記
- task-registration-agent は `type: guideline` で正しい形式
- しかし他のエージェントは従来の「エージェント」形式
- tools リストが残っているファイルもある

### 改修理由

- フレームワーク内の一貫性確保
- 「メインが参照して実行」という設計意図の明確化
- tools リストの誤解防止

## 実装内容

### 1. フロントマターの統一

**現在の問題がある形式**:
```yaml
---
name: xxx-agent
description: ...
tools:
  - Task
  - Read
  - Write
---
```

**統一後の形式**:
```yaml
---
name: xxx-agent
type: guideline
description: |
  ◯◯の処理ガイドライン。

  ※ メイン Claude Code がこのガイドラインを参照しながら直接実行します。
---
```

### 2. 本文の表現修正

- 「このエージェントは」→「このガイドラインに従って」
- 「エージェントが実行」→「メインが実行」

### 3. 対象ファイル

| ファイル | tools削除 | type追加 | 表現修正 |
|---------|----------|---------|---------|
| task-manager-agent.md | ✅（8ツール） | ✅ | ✅ |
| impl-agent.md | ✅（Task含む） | ✅ | ✅ |
| review-agent.md | 確認 | ✅ | ✅ |
| 他14ファイル | 確認 | ✅ | ✅ |

### 4. 例外

- task-registration-agent.md: 既に正しい形式（変更不要）

## 対象ファイル

| ファイル | 操作 |
|---------|------|
| `.claude/agents/*.md` | フロントマター修正、表現修正（約17ファイル） |

## 依存関係

- **ブロック**: なし
- **ブロックされる**: F019
- **関連レビュー**:
  - tasks/1_todo/agent-review-g3.md（TM-02, TM-03, P-G3-01）

## メモ

- task-registration-agent を参考にフォーマット統一
- tools リスト削除により「実行者」ではなく「参照先」であることを明確化
- 機械的な修正が中心
