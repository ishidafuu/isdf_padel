---
id: F037
title: 全タスクタイプで「1タスク=1コミット」統一
type: framework
status: done
priority: high
created_at: 2025-01-07T12:00:00+09:00
started_at: 2026-01-07T15:00:00+09:00
completed_at: 2026-01-07T15:15:00+09:00
blocked_by: []
blocks: []
---

# F037: 全タスクタイプで「1タスク=1コミット」統一

## 概要

framework/project-wide タスクでも game-dev タスクと同様に「1タスク=1コミット」を実現する。

## 背景

現状:
- game-dev（30XXX）: スカッシュマージで1コミット
- framework/project-wide: 実装コミットとDONE処理が別コミット

課題:
- 履歴の一貫性がない
- タスクIDとコミットが1:1対応しない

## 新フロー

```
実装作業 → git add（ステージングのみ）
   ↓
タスクDONE処理 → git add（ステージングに追加）
   ↓
まとめて1コミット
```

## 変更対象ファイル

| ファイル | 変更内容 |
|----------|----------|
| `.claude/CLAUDE.md` | 「即時コミット原則」→「1タスク=1コミット原則」に更新 |
| `.claude/skills/task-operations.md` | project-wide/framework の完了フローにコミット処理追加 |
| `.claude/agents/task-manager-agent.md` | 「その他タスク」の完了フロー更新 |
| `.claude/agents/impl-agent.md` | 実装完了時のフロー追加 |

## 完了条件

- [x] CLAUDE.md の原則更新
- [x] task-operations.md のフロー更新
- [x] task-manager-agent.md のフロー更新
- [x] impl-agent.md のフロー追加
- [x] 新フローでタスク完了（このタスク自体）

## 備考

- F035 は既存フローで完了済み（別コミット）
- F037 から新フローを適用
