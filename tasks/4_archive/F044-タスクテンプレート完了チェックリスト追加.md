---
id: "F044"
title: "タスクテンプレート完了チェックリスト追加"
type: "framework"
status: "done"
priority: "medium"
related_task: null
spec_ids: []
blocked_by: []
blocks: []
branch_name: null
worktree_path: null
plan_file: "~/.claude/plans/playful-enchanting-cray.md"
tags: ["task-management", "template"]
parent_task_id: null
created_at: "2026-01-07T21:00:00+09:00"
updated_at: "2026-01-07T21:00:00+09:00"
completed_at: "2026-01-07T21:10:00+09:00"
---

# Task F044: タスクテンプレート完了チェックリスト追加

## 説明

game-devタスク（30XXX/B30XXX/R30XXX）がin-reviewをスキップして直接完了になる問題を防ぐため、タスクテンプレートに完了チェックリストを追加する。

## 背景

### 現状

- F043でin-review経由のバリデーションルールは追加済み
- タスクファイル自体にリマインダーがないため見落とされやすい

### 改修理由

- タスク完了時に目に入るチェックリストがあれば防止効果が高い
- in-review経由忘れを視覚的にリマインド

## 実装内容

- [x] task-file-format.md にチェックリストセクション追加
- [x] task-registration-agent.md にチェックリスト追加

## 完了チェックリスト

- [x] 変更内容の検証完了
- [x] ドキュメント整合性確認

## メモ

なし

## 依存関係

- **ブロック**: なし
- **ブロックされる**: なし
- **関連ドキュメント**:
  - `.claude/skills/task-file-format.md`
  - `.claude/agents/task-registration-agent.md`

---

## Detailed Implementation Plan

以下は、プランファイル `~/.claude/plans/playful-enchanting-cray.md` の全内容です。

# F044: タスクテンプレートに完了チェックリスト追加

## 概要

game-devタスク（30XXX/B30XXX/R30XXX）がin-reviewをスキップして直接完了になる問題を防ぐため、タスクテンプレートに完了チェックリストを追加する。

## 背景

- F043でin-review経由のバリデーションルールは追加済み
- しかし、タスクファイル自体にリマインダーがないため見落とされやすい
- タスク完了時に目に入るチェックリストがあれば防止効果が高い

## 変更対象ファイル

| ファイル | 変更内容 |
|---------|---------|
| `.claude/skills/task-file-format.md` | 本文テンプレートにチェックリスト追加（行120-164） |
| `.claude/agents/task-registration-agent.md` | Phase 5のテンプレートにチェックリスト追加（行281-318） |

## 実装内容

### 1. task-file-format.md への追加（行163付近、`## メモ` の前）

```markdown
## 完了チェックリスト

> game-dev/bugfix/refactor タスクは in-review 経由必須

- [ ] ビルド成功
- [ ] テスト全PASS
- [ ] in-review に移動済み（game-dev/bugfix/refactor のみ）
- [ ] レビュー完了
```

### 2. task-registration-agent.md への追加（行302付近、`## メモ` の前）

**game-dev/bugfix/refactor用:**
```markdown
## 完了チェックリスト

> このタスクは in-review 経由必須

- [ ] ビルド成功（`cargo build`）
- [ ] テスト全PASS（`cargo test`）
- [ ] in-review に移動済み
- [ ] レビュー完了
```

**framework/project-wide用:**
```markdown
## 完了チェックリスト

- [ ] 変更内容の検証完了
- [ ] ドキュメント整合性確認（frameworkのみ）
```

### 3. タスク種別ごとのチェックリスト分岐ルール

| タスク種別 | in-review必須 | チェック項目 |
|-----------|--------------|-------------|
| game-dev（30XXX） | ✅ | ビルド、テスト、in-review、レビュー |
| bugfix（B30XXX-NNN） | ✅ | ビルド、テスト、in-review、レビュー |
| refactor（R30XXX-NNN） | ✅ | ビルド、テスト、in-review、レビュー |
| project-wide（PXXX） | ❌ | 変更検証 |
| framework（FXXX） | ❌ | 変更検証、ドキュメント整合性 |

## 実装手順

1. **task-file-format.md** を編集
   - 行163付近（`## メモ` の直前）にチェックリストセクション追加
   - タスク種別ごとの分岐ルールを明記

2. **task-registration-agent.md** を編集
   - Phase 5 本文構造（行281-318）にチェックリスト追加
   - タスクタイプに応じた分岐ロジックを追加

3. 検証
   - 新規タスク登録時にチェックリストが含まれることを確認

## 期待効果

- タスク完了処理時にチェックリストが目に入る
- in-review経由忘れを視覚的にリマインド
- 完了条件の統一化
