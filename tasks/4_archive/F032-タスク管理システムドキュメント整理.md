---
id: "F032"
title: "タスク管理システムドキュメント整理"
type: "framework"
status: "done"
priority: "medium"
spec_ids: []
blocked_by: []
blocks: []
branch_name: null
worktree_path: null
plan_file: "/Users/s13219/.claude/plans/ancient-coalescing-canyon.md"
tags: ["documentation", "refactoring", "task-management"]
created_at: "2026-01-04T12:25:40+09:00"
updated_at: "2026-01-04T12:25:40+09:00"
completed_at: "2026-01-04T13:15:00+09:00"
---

# Task F032: タスク管理システムドキュメント整理

## 説明

タスク管理システムのスキルファイルを整理し、Claude用スキル（簡潔）と人間向けドキュメント（詳細）を明確に分離する。

## 背景

### 現状

| ファイル | 行数 | 問題 |
|---------|------|------|
| task-planning.md | 654 | Claude用スキルとしては冗長、例が多すぎる |
| task-status.md | 593 | シェルスクリプト実装・出力例が過半、人間向け内容 |
| task-operations.md | 324 | CLI詳細が多い |
| 親子タスク機能 | - | 実稼働前だが定義が分散 |

### 改修理由

- Claude用スキルは簡潔であるべき（Claudeが迷わない程度の情報量）
- 人間向け詳細は docs/ に配置すべき
- 親子タスク機能は将来実装のため、定義を整理しておく

## 実装内容

- [ ] task-planning.md を簡潔化（654行 → ~150行）
- [ ] task-status.md を簡潔化（593行 → ~50行）、詳細は docs/concepts/tasks.md に統合
- [ ] task-operations.md を短縮（324行 → ~200行）
- [ ] 親子タスク定義を task-lifecycle.md に統合
- [ ] task-file-format.md の親子タスク定義を参照に変更
- [ ] task-workflow.md の参照先を更新
- [ ] docs/concepts/tasks.md に出力形式・参考実装を統合
- [ ] CLAUDE.md のスキル一覧を更新

## メモ

- 親子タスク機能は定義を残し、将来実装（削除しない）
- task-status.md の内容は docs/concepts/tasks.md に統合（新規ファイル作成しない）

## 依存関係

- **ブロック**: なし
- **ブロックされる**: なし
- **関連ドキュメント**:
  - `.claude/skills/task-*.md`
  - `docs/concepts/tasks.md`

---

## Detailed Implementation Plan

以下は、プランファイル `~/.claude/plans/ancient-coalescing-canyon.md` の全内容です。

# Task Plan: タスク管理システムドキュメント整理

## Task Type

framework

## Summary

タスク管理システムのスキルファイルを整理し、Claude用スキル（簡潔）と人間向けドキュメント（詳細）を明確に分離する。

## 問題点

| ファイル | 行数 | 問題 |
|---------|------|------|
| task-planning.md | 654 | Claude用スキルとしては冗長、例が多すぎる |
| task-status.md | 593 | シェルスクリプト実装・出力例が過半、人間向け内容 |
| task-operations.md | 324 | CLI詳細が多い |
| 親子タスク機能 | - | 実稼働前だが定義が分散 |

## 改善方針

### 1. task-planning.md 簡潔化

**Before:** 654行（詳細な例、AskUserQuestion例、テンプレート全文）
**After:** ~150行（フロー概要、必須セクション、参照先）

**削除対象:**
- Step 3 の AskUserQuestion 詳細例（L183-229）
- プランファイルテンプレート全文（L236-310）→ 必須セクションのリストのみに
- ジャンプ機能の詳細例（L312-392）→ 概要のみに
- 埋め込み方法の詳細例（L435-537）→ 参照先を示すのみ

**残す内容:**
- 2段階フローの概要（Phase 1, Phase 2）
- 必須セクションのリスト
- task-registration-agent.md への参照

### 2. task-status.md → docs/concepts/tasks.md に統合

**理由:** 出力形式・使用例は人間が読むもの、Claudeは Glob/Read で直接実装

**移動先:** `docs/concepts/tasks.md` に統合（ファイル数を増やさない）

**統合内容:**
- 出力形式仕様
- シェルスクリプト参考実装（折りたたみ）
- 出力例

**スキル側に残す内容（~50行）:**
- 出力形式の概要
- ステータスアイコン定義
- docs/concepts/tasks.md への参照

### 3. task-operations.md 短縮

**Before:** 324行
**After:** ~200行

**削除対象:**
- Python CLI 実行例（参考実装）
- 詳細なシェルコマンド例

### 4. 親子タスク機能の整理（定義を残し、将来実装）

**現状:** task-lifecycle.md と task-file-format.md に分散

**方針:**
- 定義を task-lifecycle.md に統合（削除しない）
- planning ステータスは「親タスク専用・将来実装」と明記
- 使用例を1つに絞り、シンプルに
- task-file-format.md からは重複定義を削除し、task-lifecycle.md への参照に

### 5. docs/concepts/tasks.md との整合

**現状:** 507行の人間向けガイドが既に存在

**方針:**
- task-status.md の内容を tasks.md に統合（または別ファイルとして追加）
- スキルファイルから人間向け詳細を移動

## 実装ステップ

### Step 1: task-planning.md 簡潔化
1. 冗長な例を削除
2. 必須セクションのリストに置き換え
3. task-registration-agent.md への参照を強化

### Step 2: task-status.md 分離
1. `docs/concepts/task-status-format.md` を新規作成
2. シェルスクリプト実装・出力例を移動
3. スキル側は概要と参照のみに

### Step 3: task-operations.md 短縮
1. Python CLI 参照を削除
2. 詳細シェルコマンド例を削除
3. 概要と必須手順のみに

### Step 4: 親子タスク機能整理
1. task-lifecycle.md に定義を統合
2. planning ステータスの説明を明確化
3. task-file-format.md から重複を削除

### Step 5: 参照更新
1. task-workflow.md の参照先を更新
2. docs/concepts/tasks.md の関連ドキュメントセクションを更新
3. CLAUDE.md のスキル一覧を更新

## 変更ファイル

| ファイル | 変更内容 |
|---------|---------|
| `.claude/skills/task-planning.md` | 654行 → ~150行に簡潔化 |
| `.claude/skills/task-status.md` | 593行 → ~50行（概要のみ） |
| `.claude/skills/task-operations.md` | 324行 → ~200行に短縮 |
| `.claude/skills/task-lifecycle.md` | 親子タスク定義を統合、将来実装を明記 |
| `.claude/skills/task-workflow.md` | 参照先更新 |
| `.claude/skills/task-file-format.md` | 親子タスク定義を参照に変更 |
| `docs/concepts/tasks.md` | task-status.md の内容を統合 |
| `.claude/CLAUDE.md` | スキル一覧更新 |

## 検証チェックリスト

- [ ] task-planning.md が150行以下
- [ ] task-status.md が50行以下
- [ ] task-operations.md が200行以下
- [ ] 親子タスク定義が task-lifecycle.md に統合され、将来実装と明記
- [ ] docs/concepts/tasks.md に出力形式・参考実装が統合されている
- [ ] 参照リンクが正しく更新されている
- [ ] CLAUDE.md のスキル一覧が更新されている
- [ ] task-file-format.md の親子タスク定義が task-lifecycle.md への参照に変更
